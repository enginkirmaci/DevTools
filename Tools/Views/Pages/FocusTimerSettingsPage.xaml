<?xml version="1.0" encoding="utf-8" ?>
<Page
	x:Class="Tools.Views.Pages.FocusTimerSettingsPage"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	Background="Transparent"
	mc:Ignorable="d">

	<ScrollViewer VerticalScrollBarVisibility="Auto">
		<StackPanel Margin="0" Spacing="16">

			<!--  Timer Control Section  -->
			<Border
				Padding="24"
				Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
				CornerRadius="8">
				<Grid>
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*" />
						<ColumnDefinition Width="Auto" />
					</Grid.ColumnDefinitions>
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto" />
						<RowDefinition Height="Auto" />
						<RowDefinition Height="Auto" />
					</Grid.RowDefinitions>

					<TextBlock
						Grid.Row="0"
						Grid.ColumnSpan="2"
						Margin="0,0,0,12"
						FontSize="18"
						FontWeight="SemiBold"
						Text="Timer Control" />

					<StackPanel Grid.Row="1" Spacing="4">
						<TextBlock
							FontSize="14"
							FontWeight="SemiBold"
							Text="{x:Bind ViewModel.TimerStatusText, Mode=OneWay}" />
						<TextBlock
							FontSize="12"
							Foreground="{ThemeResource TextFillColorSecondaryBrush}"
							Text="{x:Bind ViewModel.CalculatedBreakInterval, Mode=OneWay}" />
						<TextBlock
							FontSize="12"
							Foreground="{ThemeResource TextFillColorSecondaryBrush}"
							Text="{x:Bind ViewModel.CalculatedBreakDuration, Mode=OneWay}" />
					</StackPanel>

					<StackPanel
						Grid.Row="1"
						Grid.Column="1"
						Orientation="Horizontal"
						Spacing="8">

						<!--  Start Button  -->
						<Button
							Width="100"
							Height="40"
							Command="{x:Bind ViewModel.StartTimerCommand}"
							Style="{StaticResource AccentButtonStyle}"
							Visibility="{x:Bind ViewModel.IsTimerRunning, Mode=OneWay, Converter={StaticResource InverseBooleanToVisibilityConverter}}">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<FontIcon FontSize="14" Glyph="&#xE768;" />
								<TextBlock Text="Start" />
							</StackPanel>
						</Button>

						<!--  Stop Button  -->
						<Button
							Width="100"
							Height="40"
							Command="{x:Bind ViewModel.StopTimerCommand}"
							Visibility="{x:Bind ViewModel.IsTimerRunning, Mode=OneWay, Converter={StaticResource BooleanToVisibilityConverter}}">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<FontIcon FontSize="14" Glyph="&#xE71A;" />
								<TextBlock Text="Stop" />
							</StackPanel>
						</Button>

						<!--  Show Timer Window Button  -->
						<Button
							Width="120"
							Height="40"
							Command="{x:Bind ViewModel.ShowTimerWindowCommand}">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<FontIcon FontSize="14" Glyph="&#xE8A7;" />
								<TextBlock Text="Show Timer" />
							</StackPanel>
						</Button>
					</StackPanel>

					<!--  Today's Progress  -->
					<Border
						Grid.Row="2"
						Grid.ColumnSpan="2"
						Margin="0,16,0,0"
						Padding="16"
						Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}"
						CornerRadius="4">
						<Grid>
							<Grid.ColumnDefinitions>
								<ColumnDefinition Width="*" />
								<ColumnDefinition Width="*" />
								<ColumnDefinition Width="*" />
								<ColumnDefinition Width="Auto" />
							</Grid.ColumnDefinitions>

							<StackPanel Grid.Column="0" HorizontalAlignment="Center">
								<TextBlock
									HorizontalAlignment="Center"
									FontSize="24"
									FontWeight="Bold"
									Text="{x:Bind ViewModel.CurrentBreakPoolText, Mode=OneWay}" />
								<TextBlock
									HorizontalAlignment="Center"
									FontSize="12"
									Foreground="{ThemeResource TextFillColorSecondaryBrush}"
									Text="Break Bank (min)" />
							</StackPanel>

							<StackPanel Grid.Column="1" HorizontalAlignment="Center">
								<TextBlock
									HorizontalAlignment="Center"
									FontSize="24"
									FontWeight="Bold"
									Text="{x:Bind ViewModel.RemainingBreaks, Mode=OneWay}" />
								<TextBlock
									HorizontalAlignment="Center"
									FontSize="12"
									Foreground="{ThemeResource TextFillColorSecondaryBrush}"
									Text="Breaks Left" />
							</StackPanel>

							<StackPanel Grid.Column="2" HorizontalAlignment="Center">
								<TextBlock
									HorizontalAlignment="Center"
									FontSize="24"
									FontWeight="Bold"
									Text="{x:Bind ViewModel.BreaksTakenTodayText, Mode=OneWay}" />
								<TextBlock
									HorizontalAlignment="Center"
									FontSize="12"
									Foreground="{ThemeResource TextFillColorSecondaryBrush}"
									Text="Taken (min)" />
							</StackPanel>

							<Button
								Grid.Column="3"
								Margin="16,0,0,0"
								Command="{x:Bind ViewModel.ResetDailyStateCommand}"
								ToolTipService.ToolTip="Reset break bank to full">
								<FontIcon FontSize="14" Glyph="&#xE72C;" />
							</Button>
						</Grid>
					</Border>
				</Grid>
			</Border>

			<!--  Work Hours Section  -->
			<Border
				Padding="24"
				Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
				CornerRadius="8">
				<StackPanel Spacing="16">
					<TextBlock
						FontSize="18"
						FontWeight="SemiBold"
						Text="Work Hours" />

					<Grid>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="150" />
							<ColumnDefinition Width="*" />
						</Grid.ColumnDefinitions>
						<Grid.RowDefinitions>
							<RowDefinition Height="Auto" />
							<RowDefinition Height="Auto" />
						</Grid.RowDefinitions>

						<TextBlock
							Grid.Row="0"
							VerticalAlignment="Center"
							Text="Work Start Time" />
						<TimePicker
							Grid.Row="0"
							Grid.Column="1"
							ClockIdentifier="24HourClock"
							Time="{x:Bind ViewModel.WorkStartTime, Mode=TwoWay}" />

						<TextBlock
							Grid.Row="1"
							Margin="0,12,0,0"
							VerticalAlignment="Center"
							Text="Work End Time" />
						<TimePicker
							Grid.Row="1"
							Grid.Column="1"
							Margin="0,12,0,0"
							ClockIdentifier="24HourClock"
							Time="{x:Bind ViewModel.WorkEndTime, Mode=TwoWay}" />
					</Grid>
				</StackPanel>
			</Border>

			<!--  Lunch Settings Section  -->
			<Border
				Padding="24"
				Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
				CornerRadius="8">
				<StackPanel Spacing="16">
					<TextBlock
						FontSize="18"
						FontWeight="SemiBold"
						Text="Lunch Settings" />

					<Grid>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="150" />
							<ColumnDefinition Width="*" />
						</Grid.ColumnDefinitions>
						<Grid.RowDefinitions>
							<RowDefinition Height="Auto" />
							<RowDefinition Height="Auto" />
						</Grid.RowDefinitions>

						<TextBlock
							Grid.Row="0"
							VerticalAlignment="Center"
							Text="Lunch Start Time" />
						<TimePicker
							Grid.Row="0"
							Grid.Column="1"
							ClockIdentifier="24HourClock"
							Time="{x:Bind ViewModel.LunchStartTime, Mode=TwoWay}" />

						<TextBlock
							Grid.Row="1"
							Margin="0,12,0,0"
							VerticalAlignment="Center"
							Text="Lunch Duration" />
						<StackPanel
							Grid.Row="1"
							Grid.Column="1"
							Margin="0,12,0,0"
							Orientation="Horizontal"
							Spacing="8">
							<NumberBox
								Width="120"
								Maximum="180"
								Minimum="15"
								SpinButtonPlacementMode="Compact"
								Value="{x:Bind ViewModel.LunchDurationMinutes, Mode=TwoWay}" />
							<TextBlock VerticalAlignment="Center" Text="minutes" />
						</StackPanel>
					</Grid>
				</StackPanel>
			</Border>

			<!--  Break Goals Section  -->
			<Border
				Padding="24"
				Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
				CornerRadius="8">
				<StackPanel Spacing="16">
					<TextBlock
						FontSize="18"
						FontWeight="SemiBold"
						Text="Break Goals" />

					<Grid>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="200" />
							<ColumnDefinition Width="*" />
						</Grid.ColumnDefinitions>
						<Grid.RowDefinitions>
							<RowDefinition Height="Auto" />
							<RowDefinition Height="Auto" />
						</Grid.RowDefinitions>

						<TextBlock
							Grid.Row="0"
							VerticalAlignment="Center"
							Text="Total Daily Break Time" />
						<StackPanel
							Grid.Row="0"
							Grid.Column="1"
							Orientation="Horizontal"
							Spacing="8">
							<NumberBox
								Width="120"
								Maximum="180"
								Minimum="15"
								SpinButtonPlacementMode="Compact"
								Value="{x:Bind ViewModel.TotalDailyBreakMinutes, Mode=TwoWay}" />
							<TextBlock VerticalAlignment="Center" Text="minutes" />
						</StackPanel>

						<TextBlock
							Grid.Row="1"
							Margin="0,12,0,0"
							VerticalAlignment="Center"
							Text="Number of Breaks" />
						<StackPanel
							Grid.Row="1"
							Grid.Column="1"
							Margin="0,12,0,0"
							Orientation="Horizontal"
							Spacing="8">
							<NumberBox
								Width="120"
								Maximum="12"
								Minimum="1"
								SpinButtonPlacementMode="Compact"
								Value="{x:Bind ViewModel.DesiredBreakCount, Mode=TwoWay}" />
							<TextBlock VerticalAlignment="Center" Text="breaks per day" />
						</StackPanel>
					</Grid>
				</StackPanel>
			</Border>

			<!--  Display Options Section  -->
			<Border
				Padding="24"
				Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
				CornerRadius="8">
				<StackPanel Spacing="16">
					<TextBlock
						FontSize="18"
						FontWeight="SemiBold"
						Text="Display Options" />

					<Grid>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="200" />
							<ColumnDefinition Width="*" />
						</Grid.ColumnDefinitions>
						<Grid.RowDefinitions>
							<RowDefinition Height="Auto" />
							<RowDefinition Height="Auto" />
							<RowDefinition Height="Auto" />
						</Grid.RowDefinitions>

						<TextBlock
							Grid.Row="0"
							VerticalAlignment="Center"
							Text="Timer Window Visibility" />
						<ComboBox
							Grid.Row="0"
							Grid.Column="1"
							Width="200"
							ItemsSource="{x:Bind ViewModel.VisibilityModes}"
							SelectedIndex="{x:Bind ViewModel.SelectedVisibilityMode, Mode=TwoWay}" />

						<TextBlock
							Grid.Row="1"
							Margin="0,12,0,0"
							VerticalAlignment="Center"
							Text="Window Position" />
						<ComboBox
							Grid.Row="1"
							Grid.Column="1"
							Width="200"
							Margin="0,12,0,0"
							ItemsSource="{x:Bind ViewModel.CornerPositions}"
							SelectedIndex="{x:Bind ViewModel.SelectedCornerPosition, Mode=TwoWay}" />

						<TextBlock
							Grid.Row="2"
							Margin="0,12,0,0"
							VerticalAlignment="Center"
							Text="Play Sound on Notification" />
						<ToggleSwitch
							Grid.Row="2"
							Grid.Column="1"
							Margin="0,12,0,0"
							IsOn="{x:Bind ViewModel.PlaySoundOnNotification, Mode=TwoWay}" />
					</Grid>
				</StackPanel>
			</Border>

			<!--  Info Section  -->
			<Border
				Padding="24"
				Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}"
				CornerRadius="8">
				<StackPanel Spacing="8">
					<TextBlock
						FontSize="14"
						FontWeight="SemiBold"
						Text="How the Break Bank Works" />
					<TextBlock
						FontSize="12"
						Foreground="{ThemeResource TextFillColorSecondaryBrush}"
						Text="• Your total daily break time is stored in a 'Break Bank'"
						TextWrapping="Wrap" />
					<TextBlock
						FontSize="12"
						Foreground="{ThemeResource TextFillColorSecondaryBrush}"
						Text="• If you skip a break, the time stays in the bank and future breaks become longer"
						TextWrapping="Wrap" />
					<TextBlock
						FontSize="12"
						Foreground="{ThemeResource TextFillColorSecondaryBrush}"
						Text="• If you end a break early, the unused time goes back to the bank"
						TextWrapping="Wrap" />
					<TextBlock
						FontSize="12"
						Foreground="{ThemeResource TextFillColorSecondaryBrush}"
						Text="• The timer pauses automatically during lunch"
						TextWrapping="Wrap" />
					<TextBlock
						FontSize="12"
						Foreground="{ThemeResource TextFillColorSecondaryBrush}"
						Text="• Break bank resets at the start of each day"
						TextWrapping="Wrap" />
				</StackPanel>
			</Border>
		</StackPanel>
	</ScrollViewer>
</Page>